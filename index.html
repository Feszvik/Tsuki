<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gift for Tuski 游깿</title>
<style>
  body {
    margin: 0;
    overflow: hidden;
    background: radial-gradient(circle at top, #0a0a1a, #000000);
    font-family: 'Courier New', monospace;
    color: #ffffff;
  }

  @keyframes glowPulse {
    0%, 100% { text-shadow: 0 0 10px #aaaaff, 0 0 30px #8888ff, 0 0 60px #6666ff; transform: translateY(0); }
    50% { text-shadow: 0 0 20px #ffffff, 0 0 60px #bbbaff, 0 0 100px #9999ff; transform: translateY(-5px); }
  }

  #mensaje {
    position: absolute;
    top: 20px;
    width: 100%;
    text-align: center;
    font-size: 28px;
    font-weight: bold;
    color: #cfcfff;
    text-shadow: 0 0 20px #aaaaff, 0 0 40px #8888ff;
    animation: glowPulse 4s ease-in-out infinite;
  }

  #mensajePersonal {
    position: absolute;
    bottom: 60px;
    right: 160px;
    font-size: 22px;
    color: #e0e0ff;
    text-shadow: 0 0 15px #aaaaff, 0 0 30px #8888ff;
    text-align: left;
    outline: none;
    border: none;
    background: rgba(0,0,0,0.3);
    width: 400px;
    max-width: 90%;
    height: 300px;
    padding: 20px;
    resize: none;
    line-height: 1.5em;
    border-radius: 10px;
    overflow-y: auto;
  }

  #mensajePersonal::placeholder { color: #8888aa; }

  .decoracion { position: absolute; filter: drop-shadow(0 0 12px #aaaaff); opacity: 0.9; }
  #identityv { bottom: 60px; left: 60px; width: 200px; }
  #goth { top: 120px; left: 50px; width: 170px; }
  #kuromi { position: absolute; width: 180px; opacity: 0.95; filter: drop-shadow(0 0 15px #bbbaff); top: calc(50% - 160px); right: calc(50% - 300px); }

  @media (max-width: 768px) {
    #mensaje { font-size: 20px; }
    #mensajePersonal { width: 90%; height: 180px; font-size: 16px; bottom: 10px; right: 5%; }
    #identityv, #goth, #kuromi { width: 120px; }
    #kuromi { top: auto; bottom: 10px; right: 10px; }
  }
</style>

<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.6.0/p5.min.js"></script>
</head>
<body>

<div id="mensaje">游깿 Feliz Cumplea침os Tuski 游깿</div>

<textarea id="mensajePersonal" placeholder="Feliz cumplea침os Mooooooonnnn, quer칤a darte un peque침o
recordatorio que a pesar de no hablar seguido contigo,
siempre ser치s una persona bastante importante para m칤...

No pienses que en alg칰n momento me olvidare de ti. Los
momentos y experiencias que nos hemos compartido son
suficientes para nunca olvidarte. Realmente gracias por 
siempre apoyarme y estar conmigo y hare lo que pueda para
apoyarte a ti. Entiendo que puede que yo este ocupado pero 
NUNCA olvidare nuestros momentos.

Espero que nunca cambies tu forma de ser y siempre tengas 
esa personalidad que siempre te defin칤a. Te quiero mucho
Ana"></textarea>

<img id="identityv" class="decoracion" src="https://preview.redd.it/dream-witch-4th-character-day-art-v0-osl2tgoummrb1.jpg?auto=webp&s=56212385788f23cd14d91968688daf6b4df8df4b" alt="Flor">
<img id="goth" class="decoracion" src="https://preview.redd.it/1trb4hgmcoo41.jpg?width=1080&crop=smart&auto=webp&s=e3371ed3f945e1c4275978f6df35a336c077cd1a" alt="Mariposa">
<img id="kuromi" src="https://www.patasencasa.com/sites/default/files/styles/article_detail_desktop/public/2024-06/%C2%BFTu%20mood%20hoy%20es%20travieso%20o%20encantador%20%20%23sanrio%20%23sanriomexico%20%23kuromi%20%23kuromimexico_0.jpg.webp?itok=Mh7Co1FK" alt="Carta">

<script>
let stars = [];
let moonCraterPositions = [];
let gothicConstellations = [
  { points: [{x:0.28,y:0.25},{x:0.30,y:0.29},{x:0.34,y:0.30},{x:0.31,y:0.33},{x:0.32,y:0.37},{x:0.28,y:0.35},{x:0.24,y:0.37},{x:0.25,y:0.33},{x:0.22,y:0.30},{x:0.26,y:0.29},{x:0.28,y:0.25}], lines:[[0,1],[1,2],[2,3],[3,4],[4,5],[5,6],[6,7],[7,8],[8,9],[9,10]] },
  { points: [{x:0.5,y:0.28},{x:0.48,y:0.25},{x:0.46,y:0.27},{x:0.46,y:0.31},{x:0.5,y:0.38},{x:0.54,y:0.31},{x:0.54,y:0.27},{x:0.52,y:0.25},{x:0.5,y:0.28}], lines:[[0,1],[1,2],[2,3],[3,4],[4,5],[5,6],[6,7],[7,8]] },
  { points: [{x:0.45,y:0.63},{x:0.45,y:0.58},{x:0.45,y:0.68},{x:0.42,y:0.63},{x:0.48,y:0.63}], lines:[[0,1],[0,2],[0,3],[0,4]] },
  { points: [{x:0.25,y:0.70},{x:0.27,y:0.68},{x:0.29,y:0.69},{x:0.30,y:0.75},{x:0.29,y:0.81},{x:0.27,y:0.82},{x:0.25,y:0.80},{x:0.27,y:0.75},{x:0.25,y:0.70}], lines:[[0,1],[1,2],[2,3],[3,4],[4,5],[5,6],[6,7],[7,8]] }
];

function scaleConstellations() {
  gothicConstellations.forEach(c => c.points.forEach(p => { p.scaledX = p.x*width; p.scaledY = p.y*height; }));
}

function setup(){
  createCanvas(window.innerWidth, window.innerHeight);
  scaleConstellations();

  // Reducir estrellas y velocidad en m칩vil
  let starCount = window.innerWidth < 768 ? 80 : 250;
  let maxSpeed = window.innerWidth < 768 ? 0 : 0.02;
  for(let i=0;i<starCount;i++){
    stars.push({
      x: random(width), y: random(height),
      size: random(1,3),
      blink: random(0.01,0.03),
      speedX: random(-maxSpeed,maxSpeed),
      speedY: random(-maxSpeed,maxSpeed),
      color: color(200+random(0,55),180+random(0,50),255, random(150,255))
    });
  }

  if(window.innerWidth < 768) frameRate(30);

  let moonX = width*0.8, moonY = height*0.25;
  let craterCount = window.innerWidth < 768 ? 8 : 15;
  for(let i=0;i<craterCount;i++){
    moonCraterPositions.push({ x: moonX + random(-70,70), y: moonY + random(-70,70), r: random(5,12) });
  }
}

function draw(){
  setGradient(0,0,width,height,color(10,10,26),color(0,0,0));
  drawMoon();
  drawStars();
  drawGothicConstellations();
}

function drawMoon(){
  let moonX = width*0.8, moonY = height*0.25;
  let moonBaseSize = 150;
  let layers = window.innerWidth < 768 ? 3 : 10;
  for(let i=layers;i>0;i--){ fill(230,230,255,10); ellipse(moonX,moonY,moonBaseSize+i*20); }
  fill(230,230,255,220); ellipse(moonX,moonY,moonBaseSize);
  fill(200,200,230,150); for(let c of moonCraterPositions){ ellipse(c.x,c.y,c.r); }
}

function drawStars(){
  noStroke();
  for(let s of stars){
    s.size += s.blink; if(s.size>3||s.size<1) s.blink*=-1;
    s.x += s.speedX; s.y += s.speedY;
    if(s.y<0) s.y=height; if(s.x<0) s.x=width; if(s.x>width) s.x=0;
    fill(s.color); ellipse(s.x,s.y,s.size);
  }
}

function drawGothicConstellations(){
  gothicConstellations.forEach(c=>{
    stroke(180,150,255,200); strokeWeight(2);
    c.lines.forEach(l=>{ let p1=c.points[l[0]], p2=c.points[l[1]]; line(p1.scaledX,p1.scaledY,p2.scaledX,p2.scaledY); });
    c.points.forEach(p=>{
      noStroke(); fill(230,200,255,220); ellipse(p.scaledX,p.scaledY,8,8);
      fill(180,150,255,50); ellipse(p.scaledX,p.scaledY,14,14);
    });
  });
}

function setGradient(x,y,w,h,c1,c2){
  noFill();
  for(let i=y;i<=y+h;i++){
    let inter = map(i,y,y+h,0,1);
    let c = lerpColor(c1,c2,inter);
    stroke(c); line(x,i,x+w,i);
  }
}

function windowResized(){
  resizeCanvas(window.innerWidth,window.innerHeight);
  scaleConstellations();
}
</script>

</body>
</html>
